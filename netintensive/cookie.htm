<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>Cookie Page</title>
    <link href="../css/form.css" rel="stylesheet" type="text/css" />
    <link href="../css/homework.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
    
    function getCookie(c_name) {
        var i, x, y, ARRcookies = document.cookie.split(";");
        for (i = 0; i < ARRcookies.length; i++) {
            x = ARRcookies[i].substr(0, ARRcookies[i].indexOf("="));
            y = ARRcookies[i].substr(ARRcookies[i].indexOf("=") + 1);
            x = x.replace(/^\s+|\s+$/g, "");
            if (x == c_name) {
                return unescape(y);
            }
        }
    }

    function setCookie(c_name, value, exdays) {
        var exdate = new Date();
        exdate.setDate(exdate.getDate() + exdays);
        var c_value = escape(value) + ((exdays == null) ? "" : "; expires=" + exdate.toUTCString());
        document.cookie = c_name + "=" + c_value;
    }

    function checkCookie() {
        var username = getCookie("username");
        if (username != null && username != "") {
            document.getElementById('welcome').innerHTML = "I know who you are, " + username + ". You can run but you can't hide!";
            
        }
        else {
            username = prompt("Please enter your name:", "");
            if (username != null && username != "") {
                setCookie("username", username, 1);
                location.reload(true);
            }
        }
     }

     function clearCookie() {
         var username = getCookie("username");
         if (username != null && username != "") {
             setCookie("username", "", 1);
             location.reload(true);
         }
         else {
             document.getElementById('btnClear').value = "Reload Page";
             location.reload(true);
         }
     }
    
</script>
</head>
<body onload="checkCookie()">
    <div id="wrapper">
        <div id="banner-left"><h1>Welcome to the Login Page</h1></div>
        <div id="banner-right"><h1>Cookie Example</h1></div>
            <div><p id="welcome"></p><br />
            </div>
            <div>
            <form>
            <input id="btnClear" type="button" value="Reset Cookie" onclick="clearCookie()" />
            </form>
            </div>
    </div>
</body>
</html>


